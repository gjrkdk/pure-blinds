---
phase: 12-category-navigation-product-expansion
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/breadcrumbs.tsx
  - src/app/products/page.tsx
  - src/app/products/[category]/page.tsx
  - src/app/products/rollerblinds/page.tsx
autonomous: true

must_haves:
  truths:
    - "User can view Products overview page at /products showing category cards"
    - "User can click category card to navigate to category listing page"
    - "Category listing page displays product grid with image, name, description, and Configure CTA"
    - "Category pages are responsive (1-column mobile, 2-column tablet+)"
    - "Breadcrumb navigation shows current page path on all product pages"
    - "Invalid category URLs return 404"
  artifacts:
    - path: "src/components/layout/breadcrumbs.tsx"
      provides: "Reusable breadcrumb component with W3C ARIA"
      contains: "aria-label=\"Breadcrumb\""
    - path: "src/app/products/page.tsx"
      provides: "Products overview page with category cards"
      contains: "getProductsByCategory"
    - path: "src/app/products/[category]/page.tsx"
      provides: "Dynamic category listing page with product grid"
      contains: "generateStaticParams"
  key_links:
    - from: "src/app/products/page.tsx"
      to: "/products/[category]"
      via: "Link href to category pages"
      pattern: "href.*products/"
    - from: "src/app/products/[category]/page.tsx"
      to: "/products/[productId]"
      via: "Link href to product detail pages"
      pattern: "href.*products/"
    - from: "src/app/products/[category]/page.tsx"
      to: "src/lib/product/catalog.ts"
      via: "getProductsByCategory import"
      pattern: "getProductsByCategory"
---

<objective>
Create the Products overview page, dynamic category listing page, and reusable breadcrumb component.

Purpose: Enable category-based product browsing — users navigate from overview → category → product detail.
Output: Three new pages/components that form the category navigation hierarchy.
</objective>

<execution_context>
@/Users/robinkonijnendijk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/robinkonijnendijk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/lib/product/catalog.ts
@src/lib/product/types.ts
@data/products.json
@src/app/products/rollerblinds/page.tsx
@src/app/products/[productId]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create reusable Breadcrumbs component and Products overview page</name>
  <files>
    src/components/layout/breadcrumbs.tsx
    src/app/products/page.tsx
  </files>
  <action>
**Breadcrumbs component** (`src/components/layout/breadcrumbs.tsx`):
- Server component (no 'use client' — no state needed)
- Props: `items: { label: string; href?: string; current?: boolean }[]`
- Wrap in `<nav aria-label="Breadcrumb">` with `<ol>` for semantic list
- Each item: `<Link>` for navigation items, `<span aria-current="page">` for current page
- Separator: `<span aria-hidden="true">/</span>` between items (hidden from screen readers)
- Styling: `text-sm text-muted` for links, `text-foreground` for current, `mb-10` wrapper margin
- Use `flex items-center gap-2` layout pattern

**Products overview page** (`src/app/products/page.tsx`):
- Server component (static content, no interactivity)
- Extract unique categories from catalog using `getAllProducts()` from `@/lib/product/catalog`
- Build category cards with metadata:
  - `rollerblinds`: name "Rollerblinds", description "Light and dark rollerblinds made to measure", href `/products/rollerblinds`
  - `venetian-blinds`: name "Venetian Blinds", description "Classic venetian blinds in various sizes", href `/products/venetian-blinds`
  - `textiles`: name "Textiles", description "Premium custom-dimension textiles", href `/products/textiles`
- Define categories as a constant array (hardcoded category metadata is fine for 3 categories — research recommends this over dynamic extraction)
- Use `<Breadcrumbs>` component with items: `[{label: "Home", href: "/"}, {label: "Products", current: true}]`
- Page header: subheading "Browse Products" (muted uppercase), h1 "Our Products", description paragraph
- Category grid: `grid gap-8 md:grid-cols-2` layout
- Each category card: Link wrapping a rounded-2xl card with border, category name as h2, description, "View products" CTA with arrow SVG
- Match styling from existing rollerblinds page (border-border, bg-surface, text patterns)
  </action>
  <verify>
Run `npx next build 2>&1 | tail -20` — build succeeds with no type errors. Verify `/products` route appears in build output.
  </verify>
  <done>
Breadcrumbs component exists with W3C ARIA attributes. Products overview page at `/products` renders category cards for rollerblinds, venetian-blinds, and textiles with breadcrumb showing Home > Products.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create dynamic category listing page and remove static rollerblinds page</name>
  <files>
    src/app/products/[category]/page.tsx
    src/app/products/rollerblinds/page.tsx
  </files>
  <action>
**Dynamic category page** (`src/app/products/[category]/page.tsx`):
- Server component with async function (needs to `await params`)
- Type params as `Promise<{ category: string }>` (Next.js 15+ pattern)
- Add `generateStaticParams()` returning the 3 categories: rollerblinds, venetian-blinds, textiles
- Load products with `getProductsByCategory(category)` from `@/lib/product/catalog`
- If no products found, call `notFound()` from `next/navigation` (proper 404 for invalid categories)
- Format category name for display: replace hyphens with spaces, capitalize words (e.g., "venetian-blinds" → "Venetian Blinds")
- Use `<Breadcrumbs>` component: `[{label: "Home", href: "/"}, {label: "Products", href: "/products"}, {label: displayName, current: true}]`
- Page header: subheading with category display name (muted uppercase), h1 with display name, description paragraph
- Product grid: `grid gap-8 md:grid-cols-2` layout
- Each product card (match existing rollerblinds page pattern exactly):
  - `<Link href={/products/${product.id}}>` wrapping card
  - Card: `rounded-2xl border border-border bg-surface overflow-hidden`
  - Image placeholder: `flex aspect-[4/3] items-center justify-center rounded-2xl bg-white shadow-lifted` with "Product Image" text
  - Info section: `p-6` with h2 product name, description (line-clamp-2), "Configure" CTA with arrow SVG
  - Hover effect: `group block transition-transform duration-200 hover:-translate-y-1`

**Remove static rollerblinds page:**
- Delete `src/app/products/rollerblinds/page.tsx` — the dynamic `[category]` route now handles `/products/rollerblinds`
- The new dynamic route replaces it entirely with identical visual output plus breadcrumb improvements
  </action>
  <verify>
Run `rm src/app/products/rollerblinds/page.tsx && npx next build 2>&1 | tail -20` — build succeeds. Verify `/products/rollerblinds`, `/products/venetian-blinds`, `/products/textiles` routes appear in build output. No TypeScript errors.
  </verify>
  <done>
Dynamic category page renders product grids for all 3 categories. Invalid categories return 404. Static rollerblinds page removed. Breadcrumbs show Home > Products > [Category Name].
  </done>
</task>

</tasks>

<verification>
1. `npx next build` completes without errors
2. Build output shows `/products`, `/products/rollerblinds`, `/products/venetian-blinds`, `/products/textiles` routes
3. No TypeScript errors in new files
4. `src/app/products/rollerblinds/page.tsx` no longer exists (replaced by dynamic route)
</verification>

<success_criteria>
- Products overview page at `/products` shows 3 category cards with links to category pages
- Category listing pages show product grids with correct products per category
- Breadcrumb component is reusable with W3C ARIA compliance (aria-label, aria-current, aria-hidden)
- Invalid category URLs trigger 404 via notFound()
- Responsive grid: 1 column on mobile, 2 columns on md+ breakpoint
</success_criteria>

<output>
After completion, create `.planning/phases/12-category-navigation-product-expansion/12-01-SUMMARY.md`
</output>

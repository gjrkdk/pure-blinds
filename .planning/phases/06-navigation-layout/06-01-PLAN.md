---
phase: 06-navigation-layout
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/header.tsx
  - src/components/layout/footer.tsx
  - src/app/globals.css
  - src/app/page.tsx
  - src/app/layout.tsx
autonomous: true

must_haves:
  truths:
    - "Visitor sees a sticky header with logo and navigation links on all pages"
    - "Header background transitions from transparent to solid when scrolling past ~50px"
    - "Clicking a navigation link smooth-scrolls to the corresponding section on the homepage"
    - "Visitor can open a mobile hamburger menu on small screens that shows navigation links"
    - "Footer displays quick links to homepage sections and social media icons"
  artifacts:
    - path: "src/components/layout/header.tsx"
      provides: "Sticky header with scroll-aware background, section nav links, mobile hamburger menu"
      contains: "'use client'"
    - path: "src/components/layout/footer.tsx"
      provides: "Footer with section quick links and social media icons"
    - path: "src/app/page.tsx"
      provides: "Homepage sections with id attributes matching nav link anchors"
    - path: "src/app/globals.css"
      provides: "smooth scroll-behavior on html element"
  key_links:
    - from: "src/components/layout/header.tsx"
      to: "src/app/page.tsx"
      via: "anchor href values (#about, #services, etc.) match section id attributes"
      pattern: "href.*#[a-z]"
    - from: "src/components/layout/footer.tsx"
      to: "src/app/page.tsx"
      via: "footer quick links use same section anchors as header"
      pattern: "href.*#[a-z]"
---

<objective>
Build a sticky header with scroll-aware background transition, section navigation, mobile hamburger menu, and a redesigned footer with section quick links and social media icons.

Purpose: Establish consistent site-wide navigation that lets visitors jump to homepage sections from any scroll position, and provides a polished footer with social presence.

Output: Redesigned header.tsx (client component with scroll listener and mobile menu state), redesigned footer.tsx (section links + social icons), updated globals.css (smooth scroll), updated page.tsx (section IDs).
</objective>

<execution_context>
@/Users/robinkonijnendijk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/robinkonijnendijk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/components/layout/header.tsx
@src/components/layout/footer.tsx
@src/app/layout.tsx
@src/app/page.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign header with sticky positioning, scroll-aware background, section nav, and mobile menu</name>
  <files>
    src/components/layout/header.tsx
    src/app/globals.css
    src/app/page.tsx
    src/app/layout.tsx
  </files>
  <action>
**header.tsx — full rewrite as client component:**

Convert to `'use client'` component. Keep the existing `CartIcon` import and logo link.

1. **Sticky positioning:** Add `fixed top-0 left-0 right-0 z-50` to header element. This replaces the current static header with border-b.

2. **Scroll-aware background transition:**
   - Add `useState` for `scrolled` boolean, default `false`.
   - Add `useEffect` with scroll listener on `window`. Set `scrolled = true` when `window.scrollY > 50`, `false` otherwise.
   - Apply conditional classes: when `scrolled` is false, use `bg-transparent` with no border. When `scrolled` is true, use `bg-background/95 backdrop-blur-sm border-b border-border` for a frosted glass effect.
   - Add `transition-all duration-300` to header for smooth transition.

3. **Navigation links for homepage sections:**
   - Add section links: About (`#about`), Services (`#services`), Our Work (`#work`), Contact (`#contact`).
   - Use `<a>` tags (not Next.js Link) for hash links to avoid client-side routing interference.
   - Style: `text-sm text-muted hover:text-foreground transition-colors`.
   - Keep the existing "Configure" Link to `/products/custom-textile` and CartIcon in the nav.
   - Desktop layout: logo left, section nav links center or left-of-cart, CartIcon right.

4. **Mobile hamburger menu (below `md` breakpoint):**
   - Add `useState` for `menuOpen` boolean, default `false`.
   - Hamburger button: visible on `md:hidden`. Use a simple 3-line hamburger icon (three `<span>` elements styled as horizontal lines, or an SVG). When open, transform to X shape using CSS transitions.
   - Mobile menu panel: a full-width dropdown below header. Show when `menuOpen` is true. Contains all nav links vertically stacked. Add `bg-background border-b border-border` styling.
   - Clicking a nav link in mobile menu should close the menu (`setMenuOpen(false)`).
   - Desktop nav links: hidden on mobile (`hidden md:flex`).

5. **Cleanup scroll listener:** Return cleanup function in useEffect to remove the event listener on unmount.

**globals.css — add smooth scrolling:**

Add `html { scroll-behavior: smooth; }` to globals.css. Place it after the body styles.

Also add `scroll-padding-top: 5rem;` to html to offset for the fixed header height so anchor targets aren't hidden behind it.

**page.tsx — add section IDs:**

Add `id` attributes to homepage sections so nav anchors work:
- Hero section: no id needed (it's the top of the page)
- Value Props section: `id="about"` (maps to About link)
- Product Showcase section: `id="services"` (maps to Services link — these "Use cases" cards represent the service offering)
- How it Works section: `id="work"` (maps to Our Work link)
- CTA Banner section: `id="contact"` (maps to Contact link — this is the closest to a contact/CTA section on the current page)

**layout.tsx — adjust for fixed header:**

Add top padding to the `<main>` element to compensate for the fixed header. The current header is ~60px tall. Add `pt-16` (4rem = 64px) to main so content isn't hidden behind the fixed header. Update from `className="flex-1"` to `className="flex-1 pt-16"`.

IMPORTANT: The header must keep existing functionality — logo link to "/" and CartIcon in the nav area. Do not remove the CartIcon.
  </action>
  <verify>
    Run `npm run build` — no TypeScript or build errors.
    Manually verify: open localhost:3000, scroll down — header should transition from transparent to frosted solid background. Section links should smooth-scroll. On mobile viewport, hamburger icon should toggle mobile menu.
  </verify>
  <done>
    Header is fixed to viewport top with z-50. Background is transparent at top, transitions to solid/blur after 50px scroll. Navigation includes section anchor links (About, Services, Our Work, Contact) plus Configure link and CartIcon. Mobile hamburger menu opens/closes and contains all nav links. Smooth scrolling works when clicking section links. Content not hidden behind fixed header.
  </done>
</task>

<task type="auto">
  <name>Task 2: Redesign footer with section quick links and social media icons</name>
  <files>
    src/components/layout/footer.tsx
  </files>
  <action>
**footer.tsx — redesign with section links and social icons:**

Keep as server component (no hooks needed). Restructure the footer layout:

1. **Layout structure:** Three-column layout on desktop (logo/description, quick links, social). Stack vertically on mobile.

2. **Column 1 — Brand:**
   - "Custom Textiles" as brand name (text-sm font-semibold).
   - Tagline below: "Made-to-measure textiles, priced instantly." (text-sm text-muted).

3. **Column 2 — Quick Links:**
   - Heading: "Quick Links" (text-xs font-semibold uppercase tracking-widest text-muted mb-3).
   - Links list using `<a>` tags for section anchors: Home (`/`), About (`#about`), Services (`#services`), Our Work (`#work`), Contact (`#contact`), Configure (`/products/custom-textile`).
   - Style: `text-sm text-muted hover:text-foreground transition-colors` with `flex flex-col gap-2`.
   - For the Home link, use Next.js `Link` component. For hash links, use plain `<a>`. For Configure, use Next.js `Link`.

4. **Column 3 — Social Media:**
   - Heading: "Follow Us" (same style as Quick Links heading).
   - Social icon links in a horizontal row: Instagram, Facebook, Pinterest, LinkedIn.
   - Use inline SVG icons (simple path-based icons, ~20x20px). Each wrapped in an `<a>` tag with `href="#"` placeholder, `target="_blank"`, `rel="noopener noreferrer"`.
   - Style icons: `text-muted hover:text-foreground transition-colors`.
   - Use `flex items-center gap-4` for the icon row.

5. **Bottom bar:**
   - Keep the copyright line: `© {year} Custom Textiles. All rights reserved.`
   - Separator: `border-t border-border mt-8 pt-6`.

6. **Responsive grid:**
   - Mobile: single column with `gap-8`.
   - Desktop: `grid grid-cols-3 gap-8` or `sm:grid-cols-3`.
   - The overall footer wrapper keeps `border-t border-border bg-surface px-6 py-12` and `mx-auto max-w-5xl`.

SVG icons to use (minimal, clean line style matching the monochrome design):
- Instagram: square with rounded corners + circle + dot
- Facebook: simple "f" path
- Pinterest: simple "P" with pin
- LinkedIn: simple "in" letterform

Keep SVGs small (24x24 viewBox, strokeWidth 1.5 or 2, currentColor for color inheritance).
  </action>
  <verify>
    Run `npm run build` — no TypeScript or build errors.
    Verify footer shows three columns on desktop, stacks on mobile. Quick links section contains all section anchor links. Social icons render and have hover color transition.
  </verify>
  <done>
    Footer displays brand column, quick links column (Home, About, Services, Our Work, Contact, Configure), and social icons column (Instagram, Facebook, Pinterest, LinkedIn as SVG icons). Responsive layout stacks on mobile, three columns on desktop. Quick links use matching anchor hrefs as header nav.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Header is sticky (fixed) at top of viewport on all pages
3. Header background is transparent when at top, transitions to solid with blur after scrolling ~50px
4. All section nav links in header smooth-scroll to corresponding sections
5. Mobile hamburger menu toggles open/closed and shows all navigation links
6. Clicking mobile nav link closes menu and scrolls to section
7. Footer shows quick links matching header section anchors
8. Footer shows social media icons with hover states
9. CartIcon remains functional in header
10. Page content is not hidden behind fixed header (proper pt-16 offset)
</verification>

<success_criteria>
- All 5 Phase 6 success criteria are met (sticky header, scroll transition, smooth-scroll, mobile menu, footer with links/socials)
- Requirements NAV-01 through NAV-05 addressed
- Build passes with zero errors
- Existing v1.0 functionality (Configure link, CartIcon, product pages, cart) unaffected
</success_criteria>

<output>
After completion, create `.planning/phases/06-navigation-layout/06-01-SUMMARY.md`
</output>

# Requirements Archive: v1.0 MVP

**Archived:** 2026-01-31
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Custom Dimension Textile Webshop

**Defined:** 2026-01-29
**Core Value:** Customers can order custom-dimension textiles with accurate matrix-based pricing through Shopify checkout on all plan tiers

## v1 Requirements

Requirements for initial MVP release. Each maps to roadmap phases.

### Dimension Input

- [x] **DIM-01**: Product page displays product information
- [x] **DIM-02**: Product page displays width input field with cm label
- [x] **DIM-03**: Product page displays height input field with cm label
- [x] **DIM-04**: Width input validates minimum bound (10cm)
- [x] **DIM-05**: Width input validates maximum bound (200cm)
- [x] **DIM-06**: Height input validates minimum bound (10cm)
- [x] **DIM-07**: Height input validates maximum bound (200cm)
- [x] **DIM-08**: Input validation prevents negative values
- [x] **DIM-09**: Input validation prevents zero values
- [x] **DIM-10**: Input validation provides clear error messages
- [x] **DIM-11**: User-entered dimensions automatically round up to nearest 10cm increment

### Pricing Engine

- [x] **PRICE-01**: Frontend requests price calculation from backend API
- [x] **PRICE-02**: Backend validates dimension input before calculation
- [x] **PRICE-03**: Backend normalizes dimensions (rounds up to 10cm)
- [x] **PRICE-04**: Backend calculates price using 20×20 matrix lookup (10-200cm range, 10cm steps)
- [x] **PRICE-05**: Backend stores pricing matrix as JSON file
- [x] **PRICE-06**: Price calculation uses integer cents (not floats) to prevent rounding errors
- [x] **PRICE-07**: Pricing engine implemented as pure functions with zero Shopify dependencies (reusability requirement)
- [x] **PRICE-08**: Real-time price displays on frontend as dimensions change
- [x] **PRICE-09**: Price display updates without page reload

### Cart Management

- [x] **CART-01**: User can add configured item to frontend-managed cart
- [x] **CART-02**: Cart supports multiple items with different dimension configurations
- [x] **CART-03**: Each cart item displays product name with dimensions
- [x] **CART-04**: Each cart item displays calculated price
- [x] **CART-05**: Cart persists configuration data for each item (width, height, normalized values)

### Shopify Integration

- [x] **SHOP-01**: Backend creates single Shopify Draft Order from cart on checkout
- [x] **SHOP-02**: Draft Order uses Shopify Admin API GraphQL
- [x] **SHOP-03**: Draft Order works on all Shopify plans (no Plus-only features)
- [x] **SHOP-04**: Backend returns Shopify checkout URL after Draft Order creation
- [x] **SHOP-05**: Frontend redirects user to Shopify checkout URL
- [x] **SHOP-06**: Customer completes payment via Shopify-hosted checkout
- [x] **SHOP-07**: Order created in Shopify after successful payment

### Order Line Data

- [x] **ORDER-01**: Each Draft Order line item includes product name with dimensions for display
- [x] **ORDER-02**: Each Draft Order line item includes custom locked price
- [x] **ORDER-03**: Each Draft Order line item includes configuration payload (width, height, normalized width, normalized height)
- [ ] **ORDER-04**: Each Draft Order line item includes pricing matrix reference for audit and reproduction — **DEFERRED** (intentionally excluded per Phase 5 CONTEXT.md)
- [x] **ORDER-05**: Order line data structure is reusable one-to-one for future Shopify app

### User Experience

- [x] **UX-01**: Product page is mobile-responsive
- [x] **UX-02**: Dimension inputs work on mobile (numeric keyboard)
- [x] **UX-03**: Cart page is mobile-responsive
- [x] **UX-04**: Checkout flow works on mobile
- [x] **UX-05**: Dimension inputs show clear unit labels (cm)
- [x] **UX-06**: Active input field is visually highlighted
- [x] **UX-07**: Successful input shows visual confirmation (checkmark or color change)
- [x] **UX-08**: Price update shows visual feedback

## v2 Requirements

Deferred to future release (Phase 2: Refinement). Tracked but not in current roadmap.

### Transparency Features

- **TRANS-01**: Rounding strategy communication ("You ordered 165cm, receiving 170cm")
- **TRANS-02**: Price calculation breakdown (shows material cost, area calculation, markup)
- **TRANS-03**: Dimension rounding preview (visual before/after indicator)

### Enhanced Usability

- **ENH-01**: Visual size preview (dimensional diagram or scaled mockup)
- **ENH-02**: Smart dimension suggestions (common sizes as quick-select)
- **ENH-03**: Instant cart preview (mini-cart confirmation)
- **ENH-04**: Cart persistence using local storage
- **ENH-05**: Server-side price recalculation on checkout (anti-manipulation)

### Order Management

- **ORD-01**: Order webhooks for paid-to-fulfillment flow
- **ORD-02**: Migration of pricing matrix from JSON to database

### Advanced Features

- **ADV-01**: Saved configurations (requires user accounts)
- **ADV-02**: Dimension comparison tool
- **ADV-03**: Bulk order entry (CSV upload for B2B)

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| Arbitrary precision (1cm or 1mm increments) | Complicates matrix from 400 to 2000+ price points, exceeds production constraints |
| Real-time 3D product rendering | Expensive ($10k+), kills mobile performance, limited value for flat textiles |
| Complex multi-product bundling | Exponential complexity, pricing becomes opaque, conflicts with transparency goal |
| Free-form design upload | Different feature set entirely (personalization vs dimension calculator), defer until core validated |
| Unlimited size range beyond 10-200cm | Production constraints exist, shipping/handling complexities for extreme sizes |
| Price display only after add-to-cart | Pricing surprises kill sales instantly, conflicts with transparency and trust positioning |
| Shopify app version | Phase 3+, requires different architecture (admin UI, theme extensions, multi-merchant) |
| Theme extensions | Phase 3+, app-specific feature |
| Native cart price overrides | Phase 4, requires Shopify Plus and Functions API |
| Shopify Functions | Phase 4, plan-gated feature |
| Variant-per-dimension structures | Doesn't scale (would need 400 Shopify variants), conflicts with dynamic pricing approach |
| Database in v1 | Defer complexity until business model validated, JSON sufficient for MVP |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| DIM-01 | Phase 3 | Complete |
| DIM-02 | Phase 3 | Complete |
| DIM-03 | Phase 3 | Complete |
| DIM-04 | Phase 2 | Complete |
| DIM-05 | Phase 2 | Complete |
| DIM-06 | Phase 2 | Complete |
| DIM-07 | Phase 2 | Complete |
| DIM-08 | Phase 2 | Complete |
| DIM-09 | Phase 2 | Complete |
| DIM-10 | Phase 2 | Complete |
| DIM-11 | Phase 2 | Complete |
| PRICE-01 | Phase 2 | Complete |
| PRICE-02 | Phase 2 | Complete |
| PRICE-03 | Phase 2 | Complete |
| PRICE-04 | Phase 2 | Complete |
| PRICE-05 | Phase 2 | Complete |
| PRICE-06 | Phase 2 | Complete |
| PRICE-07 | Phase 2 | Complete |
| PRICE-08 | Phase 3 | Complete |
| PRICE-09 | Phase 3 | Complete |
| CART-01 | Phase 4 | Complete |
| CART-02 | Phase 4 | Complete |
| CART-03 | Phase 4 | Complete |
| CART-04 | Phase 4 | Complete |
| CART-05 | Phase 4 | Complete |
| SHOP-01 | Phase 5 | Complete |
| SHOP-02 | Phase 5 | Complete |
| SHOP-03 | Phase 5 | Complete |
| SHOP-04 | Phase 5 | Complete |
| SHOP-05 | Phase 5 | Complete |
| SHOP-06 | Phase 5 | Complete |
| SHOP-07 | Phase 5 | Complete |
| ORDER-01 | Phase 5 | Complete |
| ORDER-02 | Phase 5 | Complete |
| ORDER-03 | Phase 5 | Complete |
| ORDER-04 | Phase 5 | Deferred |
| ORDER-05 | Phase 5 | Complete |
| UX-01 | Phase 3 | Complete |
| UX-02 | Phase 3 | Complete |
| UX-03 | Phase 4 | Complete |
| UX-04 | Phase 5 | Complete |
| UX-05 | Phase 3 | Complete |
| UX-06 | Phase 3 | Complete |
| UX-07 | Phase 3 | Complete |
| UX-08 | Phase 3 | Complete |

**Coverage:**
- v1 requirements: 45 total
- Shipped: 44 (98%)
- Deferred: 1 (ORDER-04 - pricing matrix reference)

**Phase Distribution:**
- Phase 1 (Setup): 0 requirements (foundation)
- Phase 2 (Pricing Engine): 15 requirements (all complete)
- Phase 3 (Product Page): 11 requirements (all complete)
- Phase 4 (Cart): 6 requirements (all complete)
- Phase 5 (Shopify Integration): 13 requirements (12 complete, 1 deferred)

---

## Milestone Summary

**Shipped:** 44 of 45 v1 requirements (98%)
**Adjusted:** ORDER-04 scope reduced (removed pricing matrix reference requirement)
**Dropped:** None

---
*Archived: 2026-01-31 as part of v1.0 milestone completion*
